<?php if(!empty($registry_info)):?>
<div id="file_info">
	<?php foreach ($registry_info as $index => $info):?>
	<?php list($pIndex,$pid) = explode('#',$index);?>
	<div class="info_heading">Process #<?php echo $pIndex;?>&nbsp;(<?php echo $pid;?>)</div>
			<?php foreach ($info as $action => $act):?>
			  <div class="expandable"> <a href="#"><?php echo ucwords(str_replace('_', ' ',$action));?></a></div>
			  <div class="expandable_info">
			  	<?php if(is_a($act, 'SimpleXMLElement')):?>
			  			<table cellpadding="3" cellspacing="2" border="0" width="80%" style="border:1px solid black;">
					  			<?php 
					  			foreach($act->attributes() as $attr => $val):
					  				$val = (array)$val;?>
					  				<tr>
										<td width="5%"><strong><?php echo ucfirst($attr);?></strong></td>	
										<td>:&nbsp;<?php echo $val[0];?></td>
									</tr>
					  			<?php	
					  			endforeach;
					  			?>
			  			</table>
			  	<?php elseif (is_a($act[0], 'SimpleXMLElement')):?>
			  			<?php foreach ($act as $a):?>
			  						<table cellpadding="3" cellspacing="2" border="0" width="80%" style="border:1px solid black;margin-bottom:5px;">
								  			<?php 
								  			foreach($a->attributes() as $attr => $val):
								  				$val = (array)$val;?>
								  				<tr>
													<td width="5%"><strong><?php echo ucfirst($attr);?></strong></td>	
													<td>:&nbsp;<?php echo $val[0];?></td>
												</tr>
								  			<?php	
								  			endforeach;
								  			?>
						  			</table>
			  			<?php endforeach;?>
			  			
			  	<?php endif;?>
			  
			  </div>
			<?php endforeach;?>
	<?php endforeach;?>
	</div>
</div>
<script type="text/javascript">
$('.expandable').click(function () {
	$(this).toggleClass('contract');
	$(this).next().slideToggle('fast');
	return false;
});
</script>	
<?php else:?>
<div class="info">Sorry dude, nothing to display here!</div>
<?php endif;?>