<?php if(!empty($basic_info)):?>
<div id="summary">
<div class="info_heading">Basic Information</div>
	<table cellpadding="2" cellspacing="2" border="0" width="100%">
	<?php foreach ($basic_info as $key => $value):?>
	<tr>
		<td><strong><?php echo ucfirst($key);?> </strong></td>	
		<td>:&nbsp;<?php echo $value;?></td>
	</tr>
	<?php endforeach;?>
	</table>
</div>
<?php endif;?>
<?php if(!empty($calltree)):?>
<div id="call_tree">
	<div class="info_heading">Processes Call Tree</div>
	<div style="margin-left:36px;border-left: 1px solid black;">
	<ul >
		<?php foreach ($calltree as $key => $value):?>
		<li class="expandable" style="margin-left:<?php echo (($value['level']-1)*20).'px';?>;" id="expandable_<?php echo $value['index'];?>"> <a href="#">Process #<?php echo $value['index'];?></a>&nbsp;(PID:&nbsp;<?php echo $value['pid'];?>)
			
		</li>
		<li style="margin-left:<?php echo (($value['level']-1)*20).'px';?>" class="expandable_info" id="expandable_info_<?php echo $value['index'];?>">
		<table border="0" width="100%">
			<tr>
				<td width="15%"><strong>PID</strong></td>	
				<td>:&nbsp;<?php echo $value['pid'];?></td>
			</tr>
			<tr>
				<td><strong>Filename</strong></td>	
				<td>:&nbsp;<?php echo (array_key_exists('filename',$value))? $value['filename'] : 'undefined';?></td>
			</tr>
			<tr>
				<td><strong>Start Time</strong></td>	
				<td>:&nbsp;<?php echo $value['starttime'];?></td>
			</tr>
			<tr>
				<td><strong>Start Reason</strong></td>	
				<td>:&nbsp;<?php echo $value['startreason'];?></td>
			</tr>
		</table>
		</li>
		<?php endforeach;?>
	</ul>
	</div>
</div>
<script type="text/javascript">
$('.expandable').click(function () {
	$(this).toggleClass('contract');
	$(this).next().slideToggle('fast');
	return false;
});
</script>
<?php else:?>
<div class="info">Sorry dude, nothing to display here!</div>
<?php endif;?>